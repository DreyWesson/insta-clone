{"version":3,"sources":["reportWebVitals.js","components/Header.js","firebase.js","time.js","components/Posts.js","modal.js","components/ImageUpload.js","App.js","actions/actionTypes.js","reducers/userReducer.js","reducers/postReducer.js","reducers/rootReducer.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Header","className","src","alt","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","auth","storage","formatDate","strTime","day","date","Date","formatType","hours","getHours","minutes","getMinutes","weekDay","monthName","ampm","getDay","month","getMonth","isToday","getDate","getFullYear","Posts","postId","username","imageUrl","caption","user","timestamp","useState","comments","setComments","comment","setComment","useEffect","unsubscribe","collection","doc","orderBy","onSnapshot","snapshot","docs","map","data","postComment","e","preventDefault","add","text","displayName","FieldValue","serverTimestamp","slotInTime","time","Avatar","toDate","length","console","log","Math","random","type","placeholder","value","onChange","target","disabled","onClick","getModalStyle","top","left","transform","useStyles","makeStyles","theme","paper","position","width","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","ImageUpload","setCaption","image","setImage","progress","setProgress","max","files","Button","ref","name","put","on","progressReport","round","bytesTransferred","totalBytes","err","alert","message","child","getDownloadURL","url","App","posts","setPosts","modalStyle","open","setOpen","setUsername","email","setEmail","openSignIn","setOpenSignIn","setUser","password","setPassword","classes","process","REACT_APP_CLIENT_TOKEN","REACT_APP_ID","merge","onAuthStateChanged","authUser","id","Modal","onClose","aria-labelledby","aria-describedby","style","Input","createUserWithEmailAndPassword","updateProfile","catch","signInWithEmailAndPassword","signOut","clientAccessToken","maxWidth","hideCaption","containerTagName","protocol","injectScript","onLoading","onSuccess","onAfterRender","onFailure","actionTypes","initialState","userReducer","state","action","postReducer","rootReducer","combineReducers","store","createStore","applyMiddleware","thunk","getState","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6a70c318.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport \"./Header.css\";\n\nconst Header = () => {\n  return (\n    <div className=\"header\">\n      <div className=\"header__container\">\n        <img\n          className=\"header__logo\"\n          src=\"https://www.vectorlogo.zone/logos/instagram/instagram-wordmark.svg\"\n          alt=\"insta logo\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","// import firebase from \"firebase\";\nimport firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\nimport \"firebase/storage\";\n\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCieCzS6duFxIxszYn--lmhqf6zEBzjH94\",\n  authDomain: \"insta-343f8.firebaseapp.com\",\n  databaseURL: \"https://insta-343f8.firebaseio.com\",\n  projectId: \"insta-343f8\",\n  storageBucket: \"insta-343f8.appspot.com\",\n  messagingSenderId: \"111420370821\",\n  appId: \"1:111420370821:web:a32e8d50a7246221515eec\",\n  measurementId: \"G-CNGJFK6WLB\",\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nconst db = firebase.firestore();\nconst auth = firebase.auth();\nconst storage = firebase.storage();\n\nexport { auth, storage };\nexport default db;\n","function formatDate(date = new Date(), formatType = \"nothing\") {\n  let hours = date.getHours(),\n    minutes = date.getMinutes(),\n    weekDay = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n    monthName = [\n      \"Jan\",\n      \"Feb\",\n      \"Mar\",\n      \"Apr\",\n      \"May\",\n      \"Jun\",\n      \"Jul\",\n      \"Aug\",\n      \"Sep\",\n      \"Oct\",\n      \"Nov\",\n      \"Dec\",\n    ],\n    ampm = hours >= 12 ? \"pm\" : \"am\",\n    strTime,\n    day;\n  hours = hours % 12;\n  hours = hours ? hours : 12; // the hour '0' should be '12'\n  minutes = minutes < 10 ? \"0\" + minutes : minutes;\n  strTime = hours + \":\" + minutes + ampm;\n  day = weekDay[date.getDay()];\n  let month = monthName[date.getMonth()];\n\n  // if the date is TODAY display only time else displat DAY,DATE\n  let isToday = () => {\n    switch (formatType) {\n      case \"time&date\":\n        // 6:28 pm 14 Nov, 2020\n        return `${strTime} ${date.getDate()} ${month}, ${date.getFullYear()}`;\n      case \"time&day&date\":\n        // 6:28 pm Sat 14 Nov, 2020\n        return `${strTime} ${day} ${date.getDate()} ${month}, ${date.getFullYear()}`;\n      case \"isToday\":\n        // 6:28 pm • Today\n        return `${strTime} • Today`;\n      case \"checkIfToday\":\n        return `${date.getDate()}•${month}•${date.getFullYear()}`;\n      default:\n        // Sat 14 Nov, 2020\n        return `${day} ${date.getDate()} ${month}, ${date.getFullYear()}`;\n    }\n  };\n  return isToday();\n}\n\nexport default formatDate;\n","import { Avatar } from \"@material-ui/core\";\nimport React, { useEffect, useState } from \"react\";\nimport firebase from \"firebase\";\nimport db from \"../firebase\";\nimport \"./Posts.css\";\nimport formatDate from \"../time\";\n\nconst Posts = ({ postId, username, imageUrl, caption, user, timestamp }) => {\n  const [comments, setComments] = useState([]);\n  const [comment, setComment] = useState(\"\");\n\n  useEffect(() => {\n    let unsubscribe;\n    if (postId)\n      unsubscribe = db\n        .collection(\"posts\")\n        .doc(postId)\n        .collection(\"comments\")\n        .orderBy(\"timestamp\", \"desc\")\n        .onSnapshot((snapshot) => {\n          setComments(snapshot.docs.map((doc) => doc.data()));\n        });\n\n    return () => unsubscribe();\n  }, [postId]);\n\n  const postComment = (e) => {\n    e.preventDefault();\n    db.collection(\"posts\").doc(postId).collection(\"comments\").add({\n      text: comment,\n      username: user.displayName,\n      timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n    });\n    setComment(\"\");\n  };\n  const slotInTime = (time) => {\n    return formatDate(new Date(), \"checkIfToday\") ===\n      formatDate(time, \"checkIfToday\")\n      ? formatDate(time, \"isToday\")\n      : formatDate(time);\n  };\n\n  return (\n    <>\n      {username && (\n        <div className=\"post\">\n          <div className=\"post__header\">\n            <Avatar className=\"post__avatar\" alt={username} src={imageUrl} />\n            <h3>{username}</h3>\n          </div>\n          <img className=\"post__image\" src={imageUrl} alt=\"\" />\n          <div className=\"post__content\">\n            <h4 className=\"post__contentText\">\n              <strong>{username}:</strong> {caption}\n            </h4>\n            <small className=\"post__contentTime\">\n              {slotInTime(timestamp?.toDate())}\n            </small>\n          </div>\n\n          <div className=\"post__comments\">\n            {comments.length > 0 ? (\n              <h2 className=\"post__commentsHeader\">Comments</h2>\n            ) : (\n              console.log(`👨‍🦱${username} 📨${caption}: 🤐 no comment`)\n            )}\n            {comments?.map((comment) => (\n              <div className=\"post__commentContainer\">\n                <p key={Math.random() * 1000} className=\"post__comment\">\n                  <strong>{comment.username}: </strong> {comment.text}\n                </p>\n                <small>\n                  {comment.timestamp && slotInTime(comment.timestamp?.toDate())}\n                  {/* {comment.timestamp?.toDate().toDateString()} */}\n                </small>\n              </div>\n            ))}\n          </div>\n          <form className=\"post__commentBox\">\n            {user ? (\n              <>\n                <input\n                  className=\"post__input\"\n                  type=\"text\"\n                  placeholder=\"Add a comment...\"\n                  value={comment}\n                  onChange={(e) => setComment(e.target.value)}\n                />\n                <button\n                  className=\"post__button\"\n                  disabled={!comment}\n                  type=\"submit\"\n                  onClick={postComment}\n                >\n                  Post\n                </button>\n              </>\n            ) : (\n              <>\n                <input\n                  className=\"post__inputSignup\"\n                  type=\"text\"\n                  placeholder=\"Add a comment...\"\n                  value={comment}\n                  onChange={(e) => setComment(e.target.value)}\n                />\n                <button\n                  className=\"post__buttonSignup\"\n                  disabled={!comment}\n                  type=\"submit\"\n                  onClick={postComment}\n                >\n                  SignIn to comment\n                </button>\n              </>\n            )}\n          </form>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Posts;\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nfunction getModalStyle() {\n  const top = 50;\n  const left = 50;\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: \"absolute\",\n    width: \"25em\",\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nexport { getModalStyle, useStyles };\n","import \"./ImageUpload.css\";\nimport React, { useState } from \"react\";\nimport { Button } from \"@material-ui/core\";\nimport db, { storage } from \"../firebase\";\nimport firebase from \"firebase\";\n\nconst ImageUpload = ({ username }) => {\n  const [caption, setCaption] = useState(\"\"),\n    [image, setImage] = useState(null),\n    [progress, setProgress] = useState(0);\n\n  const handleChange = (e) => {\n    e.target.files[0] && setImage(e.target.files[0]);\n  };\n  const handleUpload = (e) => {\n    // Uploading the files\n    const uploadTask = storage.ref(`images/${image.name}`).put(image);\n    uploadTask.on(\n      \"state_changed\",\n      (snapshot) => {\n        const progressReport = Math.round(\n          (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n        );\n        setProgress(progressReport);\n      },\n      (err) => alert(err.message),\n      () => {\n        // Downloading the uploaded file\n        storage\n          .ref(\"images\")\n          .child(image.name)\n          .getDownloadURL()\n          .then((url) => {\n            db.collection(\"posts\").add({\n              timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n              caption: caption,\n              imageUrl: url,\n              username: username,\n            });\n          });\n        setImage(null);\n        setProgress(0);\n        setCaption(\"\");\n      }\n    );\n  };\n  return (\n    <div className=\"imageUpload\">\n      <h2>Upload Content</h2>\n      <p>\n        <small>\n          <i>Add caption and upload your contents here</i>\n        </small>\n      </p>\n      <input\n        className=\"imageUpload__caption\"\n        type=\"text\"\n        placeholder=\"Enter a caption...\"\n        value={caption}\n        onChange={(e) => setCaption(e.target.value)}\n      />\n      <progress\n        className=\"imageUpload__progressBar\"\n        value={progress}\n        max=\"100\"\n      />\n      <input\n        className=\"imageUpload__button\"\n        type=\"file\"\n        onChange={handleChange}\n      />\n      <Button className=\"imageUpload__uploadButton\" onClick={handleUpload}>\n        Upload\n      </Button>\n    </div>\n  );\n};\n\nexport default ImageUpload;\n","import { Button, Input } from \"@material-ui/core\";\nimport { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport Header from \"./components/Header\";\nimport Posts from \"./components/Posts\";\nimport db, { auth } from \"./firebase\";\nimport { getModalStyle, useStyles } from \"./modal\";\nimport Modal from \"@material-ui/core/Modal\";\nimport ImageUpload from \"./components/ImageUpload\";\nimport InstagramEmbed from \"react-instagram-embed\";\n\nfunction App() {\n  const [posts, setPosts] = useState([]),\n    [modalStyle] = useState(getModalStyle),\n    [open, setOpen] = useState(false),\n    [username, setUsername] = useState(\"\"),\n    [email, setEmail] = useState(\"\"),\n    [openSignIn, setOpenSignIn] = useState(false),\n    [user, setUser] = useState(null),\n    [password, setPassword] = useState(\"\"),\n    classes = useStyles(),\n    { REACT_APP_CLIENT_TOKEN, REACT_APP_ID } = process.env,\n    merge = `${REACT_APP_ID}|${REACT_APP_CLIENT_TOKEN}`;\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((authUser) => {\n      console.log(authUser);\n      authUser ? setUser(authUser) : setUser(null);\n    });\n    return () => unsubscribe();\n  }, [user, username]);\n\n  useEffect(() => {\n    db.collection(\"posts\")\n      .orderBy(\"timestamp\", \"desc\")\n      .onSnapshot((snapshot) => {\n        setPosts(\n          snapshot.docs.map((doc) => {\n            const data = doc.data(),\n              id = doc.id;\n            return { id, ...data };\n          })\n        );\n      });\n  }, []);\n\n  const signUp = (e) => {\n    e.preventDefault();\n    auth\n      .createUserWithEmailAndPassword(email, password)\n      .then((authUser) => {\n        return authUser.user.updateProfile({\n          displayName: username,\n        });\n      })\n      .catch((err) => alert(err.message));\n    setOpen(false);\n  };\n  const signIn = (e) => {\n    e.preventDefault();\n    auth\n      .signInWithEmailAndPassword(email, password)\n      .catch((err) => err.message);\n\n    setOpenSignIn(false);\n  };\n  return (\n    <div className=\"app\">\n      <Modal\n        open={open}\n        onClose={() => setOpen(false)}\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\"\n      >\n        <div style={modalStyle} className={classes.paper}>\n          <form className=\"app__signUp\">\n            <center>\n              <img\n                className=\"header__logo\"\n                src=\"https://www.vectorlogo.zone/logos/instagram/instagram-wordmark.svg\"\n                alt=\"insta logo\"\n              />\n            </center>\n            <Input\n              className=\"app__inputs\"\n              type=\"text\"\n              placeholder=\"Username\"\n              onChange={(e) => setUsername(e.target.value)}\n              value={username}\n            />\n            <Input\n              className=\"app__inputs\"\n              type=\"email\"\n              placeholder=\"Email\"\n              onChange={(e) => setEmail(e.target.value)}\n              value={email}\n            />\n            <Input\n              className=\"app__inputs\"\n              type=\"password\"\n              placeholder=\"Password\"\n              onChange={(e) => setPassword(e.target.value)}\n              value={password}\n            />\n            <Button type=\"submit\" onClick={signUp}>\n              Sign Up\n            </Button>\n          </form>\n        </div>\n      </Modal>\n      <Modal\n        open={openSignIn}\n        onClose={() => setOpenSignIn(false)}\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\"\n      >\n        <div style={modalStyle} className={classes.paper}>\n          <form className=\"app__signUp\">\n            <center>\n              <img\n                className=\"header__logo\"\n                src=\"https://www.vectorlogo.zone/logos/instagram/instagram-wordmark.svg\"\n                alt=\"insta logo\"\n              />\n            </center>\n            <Input\n              type=\"email\"\n              placeholder=\"Email\"\n              onChange={(e) => setEmail(e.target.value)}\n              value={email}\n            />\n            <Input\n              type=\"password\"\n              placeholder=\"Password\"\n              onChange={(e) => setPassword(e.target.value)}\n              value={password}\n            />\n            <Button type=\"submit\" onClick={signIn}>\n              Sign In\n            </Button>\n          </form>\n        </div>\n      </Modal>\n      <Header />\n      {user ? (\n        <Button type=\"submit\" onClick={() => auth.signOut()}>\n          Logout\n        </Button>\n      ) : (\n        <div className=\"app__loginContainer\">\n          <Button type=\"submit\" onClick={() => setOpenSignIn(true)}>\n            Sign In\n          </Button>\n          <Button type=\"submit\" onClick={() => setOpen(true)}>\n            Sign Up\n          </Button>\n        </div>\n      )}\n      <div className=\"app__posts\">\n        {user?.displayName ? (\n          <ImageUpload username={user.displayName} />\n        ) : (\n          <h3 className=\"app__notLoggedIn\">Sign Up To Upload</h3>\n        )}\n        {posts.map(({ id, username, imageUrl, caption, timestamp }) => {\n          return (\n            <Posts\n              key={id}\n              postId={id}\n              user={user}\n              timestamp={timestamp}\n              username={username}\n              imageUrl={imageUrl}\n              caption={caption}\n            />\n          );\n        })}\n      </div>\n      <InstagramEmbed\n        url=\"https://www.instagram.com/p/BAuc9JmQodPPZBdR1UiXg6YVR2IJ80yx-PatzE0/\"\n        clientAccessToken={merge}\n        maxWidth={320}\n        hideCaption={false}\n        containerTagName=\"div\"\n        protocol=\"\"\n        injectScript\n        onLoading={() => {}}\n        onSuccess={() => {}}\n        onAfterRender={() => {}}\n        onFailure={() => {}}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","export const actionTypes = {\n  SET_USER: \"SET_USER\",\n  SET_POSTS: \"SET_POSTS\",\n};\n","import { actionTypes } from \"../actions/actionTypes\";\n\nexport const initialState = {\n  user: null,\n};\n\nconst userReducer = (state = initialState, action) => {\n  console.log(action);\n  switch (action.type) {\n    case actionTypes.SET_USER:\n      return {\n        ...state,\n        user: action.user,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default userReducer;\n","import { actionTypes } from \"../actions/actionTypes\";\n\nexport const initialState = {\n  posts: [],\n};\n\nconst postReducer = (state = initialState, action) => {\n  console.log(action);\n  switch (action.type) {\n    case actionTypes.SET_POSTS:\n      return {\n        ...state,\n        posts: action.posts,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default postReducer;\n","import { combineReducers } from \"redux\";\nimport userReducer from \"./userReducer\";\nimport postReducer from \"./postReducer\";\n\nconst rootReducer = combineReducers({ userReducer, postReducer });\n\nexport default rootReducer;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport App from \"./App\";\nimport rootReducer from \"./reducers/rootReducer\";\nimport \"./index.css\";\nimport thunk from \"redux-thunk\";\n\nconst store = createStore(rootReducer, applyMiddleware(thunk));\nconsole.log(\"List of Reducers Stored in STATE 👉\", store.getState());\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}